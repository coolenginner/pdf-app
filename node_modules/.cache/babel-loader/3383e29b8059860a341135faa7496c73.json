{"ast":null,"code":"import _slicedToArray from \"/home/priya/Downloads/pdf-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/priya/Downloads/pdf-app/src/components/SignPdf.js\";\nimport React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Container, Header, Grid, Form, Popup, Item } from \"semantic-ui-react\";\nimport { Document, Page } from \"react-pdf\";\nimport { Draggable, Droppable } from \"react-drag-and-drop\";\nimport { Rnd } from \"react-rnd\";\nimport * as jsPDF from \"jspdf\";\nimport * as html2canvas from \"html2canvas\";\nimport $ from \"jquery\";\nimport SignaturePad from \"react-signature-canvas\";\nimport { Route, Link, BrowserRouter as Router, Switch } from \"react-router-dom\";\n\nfunction Sign(props) {\n  var _this = this;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      trimmedDataURL = _useState2[0],\n      setTrimmedDataURL = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      usertext = _useState4[0],\n      setUsername = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      date = _useState6[0],\n      setDate = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showtext = _useState8[0],\n      toggleShowtext = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showPopup = _useState10[0],\n      setShowPopup = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showDate = _useState12[0],\n      setShowDate = _useState12[1];\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      Pagelist = _React$useState2[0],\n      setPagelist = _React$useState2[1];\n\n  var tempDate = new Date();\n  var dates = tempDate.getFullYear() + \"-\" + (tempDate.getMonth() + 1) + \"-\" + tempDate.getDate();\n  var currDate = dates;\n\n  var myChangeHandler = function myChangeHandler(event) {\n    setUsername(event.target.value);\n  };\n\n  var toggleText = function toggleText(e) {\n    toggleShowtext(!showtext);\n  };\n\n  var sigPad = {};\n\n  var clear = function clear() {\n    sigPad.clear();\n  };\n\n  var trim = function trim() {\n    setTrimmedDataURL(sigPad.getTrimmedCanvas().toDataURL(\"image/png\"));\n    setShowPopup(!showPopup);\n  };\n\n  var togglePopup = function togglePopup() {\n    if (trimmedDataURL === null) {\n      setShowPopup(!showPopup);\n    }\n  };\n\n  var handlePdf = function handlePdf() {\n    var HTML_Width = $(\".react-pdf__Document\").width();\n    var HTML_Height = $(\".react-pdf__Document\").height();\n    var top_left_margin = 15;\n    var PDF_Width = HTML_Width;\n    var PDF_Height = PDF_Width * 1.5 + top_left_margin * 2;\n    var canvas_image_width = HTML_Width;\n    var canvas_image_height = HTML_Height;\n    var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;\n    html2canvas($(\".canvas_div_pdf\")[0], {\n      logging: true,\n      allowTaint: false,\n      scale: 1,\n      scrollX: 0,\n      scrollY: 0\n    }).then(function (canvas) {\n      canvas.getContext(\"2d\");\n      var imgData = canvas.toDataURL(\"image/jpeg\", 1.0);\n      var pdf = new jsPDF(\"p\", \"pt\", [PDF_Height, PDF_Width]);\n      pdf.addImage(imgData, \"JPG\", top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);\n\n      for (var i = 1; i <= totalPDFPages; i++) {\n        pdf.addPage(PDF_Width, PDF_Height);\n        pdf.addImage(imgData, \"JPG\", top_left_margin, -(PDF_Height * i) + top_left_margin * 4, canvas_image_width, canvas_image_height);\n      }\n\n      pdf.save(\"Doc.pdf\");\n      $(\".canvas_div_pdf\").hide();\n    });\n  };\n\n  var onDocumentLoadSuccess = function onDocumentLoadSuccess(numPages, i) {\n    var j = numPages.numPages;\n    var item = \"\";\n\n    for (i = 0; i < j; i++) {\n      item += i + \" \";\n    }\n\n    var n = item;\n    var numStringArr = \"\".concat(n).split(\"\").map(function (el) {\n      return parseInt(el);\n    });\n    var numStringArrs = numStringArr.filter(function (e) {\n      return e === 0 || e;\n    });\n    setPagelist(numStringArrs);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidenav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, \"Pdf Preview\"), showPopup && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Apps\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(SignaturePad, {\n    canvasProps: {\n      width: 500,\n      height: 200,\n      className: \"sigCanvas\"\n    },\n    ref: function ref(_ref) {\n      sigPad = _ref;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-lg mx-auto\",\n    onClick: clear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, \"Clear\", \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-lg mx-auto\",\n    onClick: trim,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 19\n    }\n  }, \"Save\")))), showtext && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Apps\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    maxlength: \"3\",\n    placeholder: \"Mr/Mrs\",\n    onChange: function onChange(e) {\n      return myChangeHandler(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-lg mx-auto\",\n    type: \"submit\",\n    onClick: function onClick() {\n      return toggleText();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, \"Close\", \" \")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Droppable, {\n    types: [\"dragitems\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/Upload\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 24\n    }\n  }, \"Home\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handlePdf,\n    className: \"btn btn-primary btn-lg mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }, \"Generate PDF\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"items-pdf\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"canvas_div_pdf\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Document, {\n    file: props.location.file,\n    onLoadSuccess: onDocumentLoadSuccess,\n    noData: /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"success-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 23\n      }\n    }, \" Please select a file\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, Pagelist.map(function (page) {\n    return /*#__PURE__*/React.createElement(Page, {\n      pageNumber: page,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 23\n      }\n    });\n  })), props.location.dragitems.map(function (item) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Rnd, {\n      default: {\n        x: item.position.x,\n        y: item.position.y\n      },\n      disableDragging: \"false\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }\n    }, item.dragitems == \"Signature\" ? /*#__PURE__*/React.createElement(\"div\", {\n      onClick: function onClick() {\n        return togglePopup();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 31\n      }\n    }, trimmedDataURL ? /*#__PURE__*/React.createElement(\"img\", {\n      src: trimmedDataURL,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 35\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"items\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 37\n      }\n    }, item.dragitems))) : null), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 25\n      }\n    }, item.dragitems == \"Intital\" && /*#__PURE__*/React.createElement(\"div\", {\n      onClick: function onClick() {\n        return toggleText();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"items\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 33\n      }\n    }, usertext ? usertext : item.dragitems)))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }\n    }, item.dragitems == \"Date\" && /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 31\n      }\n    }, showDate && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"items\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 35\n      }\n    }, currDate))))));\n  })))))));\n}\n\nexport default Sign;","map":{"version":3,"sources":["/home/priya/Downloads/pdf-app/src/components/SignPdf.js"],"names":["React","useState","useEffect","ReactDOM","Container","Header","Grid","Form","Popup","Item","Document","Page","Draggable","Droppable","Rnd","jsPDF","html2canvas","$","SignaturePad","Route","Link","BrowserRouter","Router","Switch","Sign","props","trimmedDataURL","setTrimmedDataURL","usertext","setUsername","date","setDate","showtext","toggleShowtext","showPopup","setShowPopup","showDate","setShowDate","Pagelist","setPagelist","tempDate","Date","dates","getFullYear","getMonth","getDate","currDate","myChangeHandler","event","target","value","toggleText","e","sigPad","clear","trim","getTrimmedCanvas","toDataURL","togglePopup","handlePdf","HTML_Width","width","HTML_Height","height","top_left_margin","PDF_Width","PDF_Height","canvas_image_width","canvas_image_height","totalPDFPages","Math","ceil","logging","allowTaint","scale","scrollX","scrollY","then","canvas","getContext","imgData","pdf","addImage","i","addPage","save","hide","onDocumentLoadSuccess","numPages","j","item","n","numStringArr","split","map","el","parseInt","numStringArrs","filter","className","ref","pathname","location","file","page","dragitems","x","position","y"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Container, Header, Grid, Form, Popup, Item } from \"semantic-ui-react\";\nimport { Document, Page } from \"react-pdf\";\nimport { Draggable, Droppable } from \"react-drag-and-drop\";\nimport { Rnd } from \"react-rnd\";\nimport * as jsPDF from \"jspdf\";\nimport * as html2canvas from \"html2canvas\";\nimport $ from \"jquery\";\nimport SignaturePad from \"react-signature-canvas\";\nimport { Route, Link, BrowserRouter as Router, Switch } from \"react-router-dom\";\n\nfunction Sign(props) {\n  const [trimmedDataURL, setTrimmedDataURL] = useState(null);\n  const [usertext, setUsername] = useState();\n  const [date, setDate] = useState();\n  const [showtext, toggleShowtext] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [showDate, setShowDate] = useState(true);\n  const [Pagelist, setPagelist] = React.useState([]);\n\n  var tempDate = new Date();\n  var dates =\n    tempDate.getFullYear() +\n    \"-\" +\n    (tempDate.getMonth() + 1) +\n    \"-\" +\n    tempDate.getDate();\n  const currDate = dates;\n\n  const myChangeHandler = (event) => {\n    setUsername(event.target.value);\n  };\n\n  const toggleText = (e) => {\n    toggleShowtext(!showtext);\n  };\n\n  var sigPad = {};\n\n  const clear = () => {\n    sigPad.clear();\n  };\n\n  const trim = () => {\n    setTrimmedDataURL(sigPad.getTrimmedCanvas().toDataURL(\"image/png\"));\n    setShowPopup(!showPopup);\n  };\n\n  const togglePopup = () => {\n    if (trimmedDataURL === null) {\n      setShowPopup(!showPopup);\n    }\n  };\n\n  const handlePdf = () => {\n    var HTML_Width = $(\".react-pdf__Document\").width();\n    var HTML_Height = $(\".react-pdf__Document\").height();\n    var top_left_margin = 15;\n    var PDF_Width = HTML_Width;\n    var PDF_Height = PDF_Width * 1.5 + top_left_margin * 2;\n    var canvas_image_width = HTML_Width;\n    var canvas_image_height = HTML_Height;\n\n    var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;\n\n    html2canvas($(\".canvas_div_pdf\")[0], {\n      logging: true,\n      allowTaint: false,\n      scale: 1,\n      scrollX: 0,\n      scrollY: 0,\n    }).then(function (canvas) {\n      canvas.getContext(\"2d\");\n\n      var imgData = canvas.toDataURL(\"image/jpeg\", 1.0);\n      var pdf = new jsPDF(\"p\", \"pt\", [PDF_Height, PDF_Width]);\n      pdf.addImage(\n        imgData,\n        \"JPG\",\n        top_left_margin,\n        top_left_margin,\n        canvas_image_width,\n        canvas_image_height\n      );\n      for (var i = 1; i <= totalPDFPages; i++) {\n        pdf.addPage(PDF_Width, PDF_Height);\n        pdf.addImage(\n          imgData,\n          \"JPG\",\n          top_left_margin,\n          -(PDF_Height * i) + top_left_margin * 4,\n          canvas_image_width,\n          canvas_image_height\n        );\n      }\n      pdf.save(\"Doc.pdf\");\n      $(\".canvas_div_pdf\").hide();\n    });\n  };\n\n  const onDocumentLoadSuccess = (numPages, i) => {\n    var j = numPages.numPages;\n    var item = \"\";\n    for (i = 0; i < j; i++) {\n      item += i + \" \";\n    }\n    var n = item;\n    let numStringArr = `${n}`.split(\"\").map((el) => parseInt(el));\n    var numStringArrs = numStringArr.filter((e) => e === 0 || e);\n    setPagelist(numStringArrs);\n  };\n\n  return (\n    <>\n      <div>\n        <div className=\"sidenav\">\n          <p className=\"text-sidebar\">Pdf Preview</p>\n\n          {showPopup && (\n            <div className=\"Apps\">\n              <div>\n                <div>\n                  <SignaturePad\n                    canvasProps={{\n                      width: 500,\n                      height: 200,\n                      className: \"sigCanvas\",\n                    }}\n                    ref={(ref) => {\n                      sigPad = ref;\n                    }}\n                  />\n                </div>\n                <div>\n                  <button\n                    className=\"btn btn-primary btn-lg mx-auto\"\n                    onClick={clear}\n                  >\n                    Clear{\" \"}\n                  </button>\n                  <button\n                    className=\"btn btn-primary btn-lg mx-auto\"\n                    onClick={trim}\n                  >\n                    Save\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {showtext && (\n            <div className=\"Apps\">\n              <form>\n                <input\n                  type=\"text\"\n                  maxlength=\"3\"\n                  placeholder=\"Mr/Mrs\"\n                  onChange={(e) => myChangeHandler(e)}\n                />\n                <br></br>\n                <br></br>\n\n                <button\n                  className=\"btn btn-primary btn-lg mx-auto\"\n                  type=\"submit\"\n                  onClick={() => toggleText()}\n                >\n                  Close{\" \"}\n                </button>\n              </form>\n            </div>\n          )}\n        </div>\n\n        <div className=\"main container\">\n          <Droppable types={[\"dragitems\"]}>\n            <div className=\"add-background\">\n              <div className=\"row\">\n\n\n                <div className=\"col-md-6\">\n                 \n                    <Link\n                      to={{\n                        pathname: \"/Upload\",\n\n                      }}\n                    >\n                       <button class=\"btn\">\n                      Home\n                      </button>\n                          </Link>\n          \n\n                </div>\n                <div className=\"col-md-6\">\n                  <button\n                    onClick={handlePdf}\n                    className=\"btn btn-primary btn-lg mx-auto\"\n                  >\n                    Generate PDF\n                  </button>\n                </div>\n              </div>\n              <div className=\"items-pdf\"></div>\n              <div className=\"canvas_div_pdf\">\n\n                <Document\n                  file={props.location.file}\n                  onLoadSuccess={onDocumentLoadSuccess}\n                  noData={\n                    <h4 className=\"success-file\">\n                      <p> Please select a file</p>\n                    </h4>\n                  }>\n                    {Pagelist.map((page) => (\n                      <Page pageNumber={page} />\n                    ))}\n                \n              \n                </Document>\n\n\n                {props.location.dragitems.map((item) => {\n                  return (\n                    <>\n                      <Rnd\n                        default={{\n                          x: item.position.x,\n                          y: item.position.y,\n                        }}\n                        disableDragging=\"false\"\n                      >\n                        <div>\n                          {item.dragitems == \"Signature\" ? (\n                            <div onClick={() => togglePopup()}>\n                              <div>\n                                {trimmedDataURL ? (\n                                  <img src={trimmedDataURL} />\n                                ) : (\n                                    <div className=\"items\">{item.dragitems}</div>\n                                  )}\n                              </div>\n                            </div>\n                          ) : null}\n                        </div>\n\n                        <div>\n                          {item.dragitems == \"Intital\" && (\n                            <div onClick={() => toggleText()}>\n                              <div>\n                                <div className=\"items\">\n                                  {usertext ? usertext : item.dragitems}\n                                </div>\n                              </div>\n                            </div>\n                          )}\n                        </div>\n\n                        <div>\n                          {item.dragitems == \"Date\" && (\n                            <div>\n                              <div>\n                                {showDate && (\n                                  <div className=\"items\">{currDate}</div>\n                                )}\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      </Rnd>\n                    </>\n                  );\n                })}\n              </div>\n            </div>\n          </Droppable>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Sign;\n"]},"metadata":{},"sourceType":"module"}